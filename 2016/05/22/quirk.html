<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>My Quantum Circuit Simulator: Quirk</title>
    <link rel="shortcut icon" href="/assets/favicon.ico">
    <meta name="viewport" content="width=device-width">

    <!-- syntax highlighting CSS -->
    <link rel="stylesheet" href="/css/syntax.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/main.css">

    <!-- RSS autodiscovery -->
    <link rel="alternate" type="application/rss+xml" title="RSS" href="/feed.xml">

    <!-- Analytics -->
    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-48771413-1']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

    </script>
  </head>
  <body>
    <div class="header">
      <a href="/"><img src="/assets/banner.png" alt="Algorithmic Assertions - Craig Gidney's Computer Science Blog" id="site_banner"/></a>
    </div>
    <div class="site">

      <h1 class="post_title">My Quantum Circuit Simulator: Quirk</h1>
<p class="meta">22 May 2016</p>

    <!-- MathJax latest -->
    <script async type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [['$','$']],
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre']
        },
        TeX: {
          Macros: {
            ket: ["\\left|{#1}\\right\\rangle", 1],
            bra: ["\\left\\langle{#1}\\right|", 1],
            parens: ["\\left({#1}\\right)", 1],
            bracket: ["\\left[{#1}\\right]", 1],
            brace: ["\\left\\{ {#1} \\right\\}", 1],
            Sum: ["\\underset{#1}{\\overset{#2}{\\Sigma}}", 2],
            bimat: ["\\begin{bmatrix} {#1} & {#2} \\\\ {#3} & {#4} \\end{bmatrix}", 4]
          }
        }
      });
    </script>
    <noscript>
      <font color=red>
        MathJax was blocked.
        Formulas like <strong>$\frac{a}{b}$</strong> won't render into <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAYCAIAAACjjJBEAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAFnSURBVDhPY/hPCCBU/P1wamJqZFpBTnJcqLl9142fUHGYip93Znopuc55+Pv/zyv16kJ+W99DJaAq/r3bGiLA67cFJPxuo5eI8bSHf8ASQABR8e1krhSr+ZwnQOGvx9LlFPNPvnv37vs/sBxExc/rrToy8Ye+/P/7ekeKFK/H2guLsvuvQlwCdcefF1sKPX3ic8qaJkzKsTcPSKzY8PQ3RArmUtyAWioYcAOoCvyAyiq+nusIVGdl0O6+/QsqAgYoZnw5nCSlkHfqG5QLAcgqflyuVZeI3PMJyoUCJBV/Hk43YRFySSvIDHXyrNr75i9EGKHi35t1HvxKxUc+/vv/cYe/qNGEu5CIQaj4cjBBSrn03HewYUZsStWXfoDF4Sp+351gKB688yMwOb5c4cwlmngA6h64ir9P59lr5Jz89v/nrQnWsl4LH0MjH8mWvx9OdEUFJ6TEhGXPu/IFkr5AAKECO/j/HwCRTZMPA+AaqQAAAABJRU5ErkJggg==" />.
      </font>
      <br>
      Allow scripts from <strong>algorithmicassertions.com</strong> and <strong>mathjax.org</strong> to fix.
      <hr/>
    </noscript>

<div class="post">
<p>I&#39;ve been working on a quantum circuit simulator that runs in your browser.
It&#39;s called Quirk.
Quirk is open source (github repository: <a href="https://github.com/Strilanc/Quirk">Strilanc/Quirk</a>), and there&#39;s a live instance you can play with at <a href="/quirk">algorithmicassertions.com/quirk</a>:</p>

<style scoped>
  #open-quirk img {
    filter: contrast(1);
    -webkit-filter: contrast(1);
    transition: 0.2s;
  }
  #open-quirk img:hover {
    filter: contrast(1.5);
    -webkit-filter: contrast(1.5);
    transition: 0.5s;
  }
</style>

<p><a href="/quirk" id="open-quirk">
  <img src="/assets/2016-05-22-quirk/open-quirk.png"/>
</a></p>

<p><em>(Not familiar with what a quantum circuit is?
Watch the Khan-academy-style video series <a href="https://www.youtube.com/playlist?list=PL1826E60FD05B44E4">Quantum Computing for the Determined</a>.
It&#39;s by Michael Nielson, co-author of the <a href="http://www.amazon.com/Quantum-Computation-Information-10th-Anniversary/dp/1107002176">de-facto standard textbook</a>.)</em></p>

<p><strong>Features</strong>:</p>

<ul>
<li>Drag-and-drop circuit editing.</li>
<li>Reacts, simulates, and animates in real time.</li>
<li>Inline state displays.</li>
<li>Bookmarkable circuits.</li>
<li>Up to 16 qubits.</li>
</ul>

<p><strong>Recorded Demo</strong>:</p>

<p><img src="/assets/2016-05-22-quirk/usage-quirk.gif" style="border: 1px solid black; max-height: 400px; max-width: 100%"/></p>

<h1>Why I Made Quirk</h1>

<p>Quirk exists because I got interested in quantum computing, and because I read <a href="http://worrydream.com/MediaForThinkingTheUnthinkable/">content by Bret Victor</a>.</p>

<p>Bret has a lot of provocative ideas about how we should interact with computers.
One of the more obvious ideas he talks about is <em>immediate feedback</em>; that you shouldn&#39;t have to jump through hoops to see the effects of changes you&#39;re making.
It should feel like you&#39;re directly manipulating the system, not like you&#39;re flipping switches that eventually result in the system being poked with a stick.</p>

<p>(For example, I find that my programming productivity is much higher when using a continuous testing tool that highlights lines covered by failing tests (e.g. <a href="http://www.ncrunch.net/">NCrunch</a>).
When the line you just wrongly-refactored turns red before you had a chance to navigate away, everything feels right with the world.
After experiencing that, it&#39;s hard to go back to waiting 30 seconds for tests to run.)</p>

<p>I wanted to have that kind of &#39;direct manipulation&#39; experience with quantum circuits, but existing quantum circuit simulators just didn&#39;t have that feel.</p>

<p><strong>Comparison: IBM Quantum Experience</strong></p>

<p>Although <a href="https://quantumexperience.ng.bluemix.net">IBM&#39;s &quot;quantum experience&quot;</a> (hereafter &#39;IQE&#39;) didn&#39;t exist when I started Quirk, it&#39;s a good example of not-feeling-like-direct-manipulation.</p>

<p>Suppose you&#39;ve gone through the signup hurdles for IQE (you don&#39;t just need to register an account, you need to <em>request</em> to register an account) and want to simulate a dead simple circuit.
How does that experience play out?
Well, here&#39;s a recording of me doing it:</p>

<p><img src="/assets/2016-05-22-quirk/usage-ibm.gif" style="border: 1px solid black; max-height: 400px; max-width: 100%"/></p>

<p>First, it turns out I can&#39;t get any results without adding measurement gates.
So I fix that.
Then I&#39;m prompted to confirm a name for this simulation run.
Not sure why that&#39;s needed, but whatever.
Then the UI throbs for 5 seconds while IBM works out the result of this 2 qubit circuit.</p>

<p>More succinctly: blerghh.</p>

<p>I remember watching IBM&#39;s <a href="https://www.youtube.com/watch?v=pYD6bvKLI_c">demo video</a> for IQE and just not believing how much time and clicks they managed to put between you and the results.
In terms of the <a href="https://www.nngroup.com/articles/powers-of-10-time-scales-in-ux/">timescales of user interaction</a>, they&#39;re flirting with the 10 second bucket:</p>

<blockquote>
<p>After 1 second, users get impatient and notice that they&#39;re waiting for a slow computer to respond.
The longer the wait, the more this impatience grows; after about 10 seconds, the average attention span is maxed out.
At that point, the user&#39;s mind starts wandering and doesn&#39;t retain enough information in short-term memory to easily resume the interaction once the computer finally loads the next screen.</p>
</blockquote>

<p>To be fair, the design decisions IBM made make more sense in the context of running the circuit on actual quantum hardware (Which IQE can do! That&#39;s awesome!).
Nevertheless, it&#39;s made the experience of using IBM&#39;s simulator kind of... really awful.</p>

<p><strong>Comparison: Davy Wybiral&#39;s Simulator</strong></p>

<p><a href="http://davywybiral.blogspot.ca/2012/12/quantum-circuit-simulator.html">Davy Wybiral&#39;s Simulator</a> can&#39;t run your circuits on actual hardware, but otherwise it&#39;s better than IQE in basically every way (including predating IQE by three years).</p>

<p>I like Davy&#39;s simulator.
It was really helpful to me when I was learning.
Here&#39;s a recording of me using it:</p>

<p><img src="/assets/2016-05-22-quirk/usage-davyw.gif" style="border: 1px solid black; max-height: 400px; max-width: 100%"/></p>

<p>This recording loops faster than the IBM one, yet manages to get twice as much dicking around done.
That&#39;s because, although evaluation still has to be triggered, it&#39;s <em>fast</em>.
You don&#39;t need to click through a bunch of dialogs with already-good-enough options pre-selected, or twiddle your thumbs while packets bounce back and forth across America.</p>

<p>I could talk about some of the UX issues with Davy&#39;s simulator, like the output being a raw list of numbers, but I want to focus just on the &quot;evaluation still has to be triggered&quot; part.</p>

<p>Simulating small quantum circuits isn&#39;t expensive.
People make a big deal about the exponential costs of qubits, but that only matters for large circuits.
That, and the fact that GPUs are amazing, mean my <em>phone</em> can apply hundreds of gates to a dozen qubits fast enough to animate in real time.
There&#39;s no need for a <code>&quot;Dear UI, please do the thing you knew I would want to do.&quot;</code> button.</p>

<p><strong>Comparison: Quirk</strong></p>

<p>Quirk has no &#39;evaluate the circuit now&#39; button.
Quirk is <em>always</em> evaluating the circuit; it&#39;s part of the drawing code.</p>

<p>Originally, I tried using just raw javascript for the simulation.
Things got slow around 7 qubits.
Later, I read <a href="https://github.com/gwroblew/Quantum-Computing-Playground">the Quantum Computing Playground&#39;s source code</a>, saw that they were using webgl, and started experimenting with that.</p>

<p>Webgl is a pain (a <em>giant</em> pain), but now Quirk starts getting slow around the <em>14</em> qubit mark.
That&#39;s about 100X faster.
And I figure it&#39;s possible to squeeze out another order of magnitude or two of speed by moving the display-drawing code into the GPU, pipelining, and interpolating.</p>

<p>Still, those optimizations would just be gravy.
The difference in experience, compared to the other two circuit simulators I mentioned, is already quite noticeable even in a recording:</p>

<p><img src="/assets/2016-05-22-quirk/usage-quirk.gif" style="border: 1px solid black; max-height: 400px; max-width: 100%"/></p>

<p>On a change-to-result basis, Quirk gives you feedback <em>two orders of magnitude</em> faster than IQE.
Instead of being in the 10 second interaction bucket, Quirk is in <a href="https://www.nngroup.com/articles/powers-of-10-time-scales-in-ux/">the 0.1 second bucket</a>:</p>

<blockquote>
<p>if you click on an expandable menu and see the expanded version in less than 0.1 seconds, then it feels as if you made the menu open up. If it takes longer than 0.1 seconds for the revised state to appear, then the response doesn&#39;t feel &quot;instantaneous&quot; — instead, it feels as if the computer is doing something to make the menu open.</p>
</blockquote>

<p>You don&#39;t have to think about getting results, it just happens.
This lets you experiment freely, and the immediate feedback from that experimentation gives you a feel for how adding/moving a gate will affect the output.
Eventually, that feel turns into intuition.</p>

<p>I made Quirk to build my own intuitions about quantum circuits, and I&#39;m happy with the results so far.</p>

<h1>Other Simulators</h1>

<p><a href="http://davywybiral.blogspot.ca/2012/12/quantum-circuit-simulator.html">Davy Wybiral&#39;s Simulator</a>, which I already mentioned, is another in-browser drag-and-drop circuit simulator.</p>

<p>The <a href="http://www.quantumplayground.net">Quantum Computing Playground</a> is a browser-based quantum <em>program</em> simulator.</p>

<p><a href="http://stationq.github.io/Liquid/">Microsoft&#39;s LIQ𝑈𝑖⏐〉</a> is a serious useful-for-actual-research tool.</p>

<p>Quantiki has <a href="https://quantiki.org/wiki/list-qc-simulators">a long list of qc simulators</a>.</p>

<h1>Example Circuits</h1>

<p>Not sure what to make in Quirk?
Here&#39;s a few example circuits.</p>

<p><strong>Grover Search</strong></p>

<p>Grover&#39;s search algorithm does unstructured search quadratically faster than classical computers can.
It&#39;s also got a <em>really</em> straightforward circuit: oracle, hadamard, controlled-Z, hadamard, repeat.
A couple years ago, I wrote a <a href="http://twistedoakstudios.com/blog/Post2644_grovers-quantum-search-algorithm">pretty good beginner-level blog post on Grover&#39;s algorithm</a>.</p>

<p>Here&#39;s a <a href="/quirk#circuit=%7B%22cols%22:%5B%5B%22X%22,%22X%22,%22X%22,%22X%22%5D,%5B%22H%22,%22H%22,%22H%22,%22H%22%5D,%5B%22Chance4%22%5D,%5B%22Sample4%22%5D,%5B%22Z%22,%22%E2%80%A2%22,%22%E2%97%A6%22,%22%E2%80%A2%22%5D,%5B%22H%22,%22H%22,%22H%22,%22H%22%5D,%5B%22Z%22,%22%E2%80%A2%22,%22%E2%80%A2%22,%22%E2%80%A2%22%5D,%5B%22H%22,%22H%22,%22H%22,%22H%22%5D,%5B%22Chance4%22%5D,%5B%22Sample4%22%5D,%5B%22Z%22,%22%E2%80%A2%22,%22%E2%97%A6%22,%22%E2%80%A2%22%5D,%5B%22H%22,%22H%22,%22H%22,%22H%22%5D,%5B%22Z%22,%22%E2%80%A2%22,%22%E2%80%A2%22,%22%E2%80%A2%22%5D,%5B%22H%22,%22H%22,%22H%22,%22H%22%5D,%5B%22Chance4%22%5D,%5B%22Sample4%22%5D,%5B%22Z%22,%22%E2%80%A2%22,%22%E2%97%A6%22,%22%E2%80%A2%22%5D,%5B%22H%22,%22H%22,%22H%22,%22H%22%5D,%5B%22Z%22,%22%E2%80%A2%22,%22%E2%80%A2%22,%22%E2%80%A2%22%5D,%5B%22H%22,%22H%22,%22H%22,%22H%22%5D,%5B%22Chance4%22%5D,%5B%22Sample4%22%5D%5D%7D">4 qubit Grover search in Quirk with added chance and sampling displays</a>:</p>

<p><a href="/quirk#circuit=%7B&quot;cols&quot;:[[&quot;X&quot;,&quot;X&quot;,&quot;X&quot;,&quot;X&quot;],[&quot;H&quot;,&quot;H&quot;,&quot;H&quot;,&quot;H&quot;],[&quot;Chance4&quot;],[&quot;Sample4&quot;],[&quot;Z&quot;,&quot;•&quot;,&quot;◦&quot;,&quot;•&quot;],[&quot;H&quot;,&quot;H&quot;,&quot;H&quot;,&quot;H&quot;],[&quot;Z&quot;,&quot;•&quot;,&quot;•&quot;,&quot;•&quot;],[&quot;H&quot;,&quot;H&quot;,&quot;H&quot;,&quot;H&quot;],[&quot;Chance4&quot;],[&quot;Sample4&quot;],[&quot;Z&quot;,&quot;•&quot;,&quot;◦&quot;,&quot;•&quot;],[&quot;H&quot;,&quot;H&quot;,&quot;H&quot;,&quot;H&quot;],[&quot;Z&quot;,&quot;•&quot;,&quot;•&quot;,&quot;•&quot;],[&quot;H&quot;,&quot;H&quot;,&quot;H&quot;,&quot;H&quot;],[&quot;Chance4&quot;],[&quot;Sample4&quot;],[&quot;Z&quot;,&quot;•&quot;,&quot;◦&quot;,&quot;•&quot;],[&quot;H&quot;,&quot;H&quot;,&quot;H&quot;,&quot;H&quot;],[&quot;Z&quot;,&quot;•&quot;,&quot;•&quot;,&quot;•&quot;],[&quot;H&quot;,&quot;H&quot;,&quot;H&quot;,&quot;H&quot;],[&quot;Chance4&quot;],[&quot;Sample4&quot;]]%7D">
  <img src="/assets/2016-05-22-quirk/circuit-grover.gif" style="max-width: 100%; border: 1px solid black; "/>
</a></p>

<p>See also:
<a href="/quirk#circuit=%7B%22cols%22:%5B%5B%22X%22,%22X%22,%22X%22,%22X%22,%22X%22,%22X%22%5D,%5B%22H%22,%22H%22,%22H%22,%22H%22,%22H%22,%22H%22%5D,%5B%22Chance6%22%5D,%5B%22%E2%80%A2%22,%22Z%22,%22%E2%97%A6%22,%22%E2%80%A2%22,%22%E2%80%A2%22,%22%E2%97%A6%22%5D,%5B%22H%22,%22H%22,%22H%22,%22H%22,%22H%22,%22H%22%5D,%5B%22%E2%80%A2%22,%22%E2%80%A2%22,%22%E2%80%A2%22,%22%E2%80%A2%22,%22%E2%80%A2%22,%22Z%22%5D,%5B%22H%22,%22H%22,%22H%22,%22H%22,%22H%22,%22H%22%5D,%5B%22Chance6%22%5D,%5B%22%E2%80%A2%22,%22Z%22,%22%E2%97%A6%22,%22%E2%80%A2%22,%22%E2%80%A2%22,%22%E2%97%A6%22%5D,%5B%22H%22,%22H%22,%22H%22,%22H%22,%22H%22,%22H%22%5D,%5B%22%E2%80%A2%22,%22%E2%80%A2%22,%22%E2%80%A2%22,%22%E2%80%A2%22,%22%E2%80%A2%22,%22Z%22%5D,%5B%22H%22,%22H%22,%22H%22,%22H%22,%22H%22,%22H%22%5D,%5B%22Chance6%22%5D,%5B%22%E2%80%A2%22,%22Z%22,%22%E2%97%A6%22,%22%E2%80%A2%22,%22%E2%80%A2%22,%22%E2%97%A6%22%5D,%5B%22H%22,%22H%22,%22H%22,%22H%22,%22H%22,%22H%22%5D,%5B%22%E2%80%A2%22,%22%E2%80%A2%22,%22%E2%80%A2%22,%22%E2%80%A2%22,%22%E2%80%A2%22,%22Z%22%5D,%5B%22H%22,%22H%22,%22H%22,%22H%22,%22H%22,%22H%22%5D,%5B%22Chance6%22%5D,%5B%22%E2%80%A2%22,%22Z%22,%22%E2%97%A6%22,%22%E2%80%A2%22,%22%E2%80%A2%22,%22%E2%97%A6%22%5D,%5B%22H%22,%22H%22,%22H%22,%22H%22,%22H%22,%22H%22%5D,%5B%22%E2%80%A2%22,%22%E2%80%A2%22,%22%E2%80%A2%22,%22%E2%80%A2%22,%22%E2%80%A2%22,%22Z%22%5D,%5B%22H%22,%22H%22,%22H%22,%22H%22,%22H%22,%22H%22%5D,%5B%22Chance6%22%5D,%5B%22%E2%80%A2%22,%22Z%22,%22%E2%97%A6%22,%22%E2%80%A2%22,%22%E2%80%A2%22,%22%E2%97%A6%22%5D,%5B%22H%22,%22H%22,%22H%22,%22H%22,%22H%22,%22H%22%5D,%5B%22%E2%80%A2%22,%22%E2%80%A2%22,%22%E2%80%A2%22,%22%E2%80%A2%22,%22%E2%80%A2%22,%22Z%22%5D,%5B%22H%22,%22H%22,%22H%22,%22H%22,%22H%22,%22H%22%5D,%5B%22Chance6%22%5D,%5B%22%E2%80%A2%22,%22Z%22,%22%E2%97%A6%22,%22%E2%80%A2%22,%22%E2%80%A2%22,%22%E2%97%A6%22%5D,%5B%22H%22,%22H%22,%22H%22,%22H%22,%22H%22,%22H%22%5D,%5B%22%E2%80%A2%22,%22%E2%80%A2%22,%22%E2%80%A2%22,%22%E2%80%A2%22,%22%E2%80%A2%22,%22Z%22%5D,%5B%22H%22,%22H%22,%22H%22,%22H%22,%22H%22,%22H%22%5D,%5B%22Chance6%22%5D%5D%7D">6 qubit</a>
and
<a href="/quirk#circuit=%7B%22cols%22:%5B%5B%22X%22,%22X%22,%22X%22,%22X%22,%22X%22,%22X%22,%22X%22,%22X%22%5D,%5B%22H%22,%22H%22,%22H%22,%22H%22,%22H%22,%22H%22,%22H%22,%22H%22%5D,%5B%22Chance8%22%5D,%5B%22Z%22,%22%E2%80%A2%22,%22%E2%97%A6%22,%22%E2%80%A2%22,%22%E2%80%A2%22,%22%E2%97%A6%22,%22%E2%80%A2%22,%22%E2%80%A2%22%5D,%5B%22H%22,%22H%22,%22H%22,%22H%22,%22H%22,%22H%22,%22H%22,%22H%22%5D,%5B%22%E2%80%A2%22,%22%E2%80%A2%22,%22%E2%80%A2%22,%22%E2%80%A2%22,%22%E2%80%A2%22,%22%E2%80%A2%22,%22%E2%80%A2%22,%22Z%22%5D,%5B%22H%22,%22H%22,%22H%22,%22H%22,%22H%22,%22H%22,%22H%22,%22H%22%5D,%5B%22Chance8%22%5D,%5B%22Z%22,%22%E2%80%A2%22,%22%E2%97%A6%22,%22%E2%80%A2%22,%22%E2%80%A2%22,%22%E2%97%A6%22,%22%E2%80%A2%22,%22%E2%80%A2%22%5D,%5B%22H%22,%22H%22,%22H%22,%22H%22,%22H%22,%22H%22,%22H%22,%22H%22%5D,%5B%22%E2%80%A2%22,%22%E2%80%A2%22,%22%E2%80%A2%22,%22%E2%80%A2%22,%22%E2%80%A2%22,%22%E2%80%A2%22,%22%E2%80%A2%22,%22Z%22%5D,%5B%22H%22,%22H%22,%22H%22,%22H%22,%22H%22,%22H%22,%22H%22,%22H%22%5D,%5B%22Chance8%22%5D,%5B%22Z%22,%22%E2%80%A2%22,%22%E2%97%A6%22,%22%E2%80%A2%22,%22%E2%80%A2%22,%22%E2%97%A6%22,%22%E2%80%A2%22,%22%E2%80%A2%22%5D,%5B%22H%22,%22H%22,%22H%22,%22H%22,%22H%22,%22H%22,%22H%22,%22H%22%5D,%5B%22%E2%80%A2%22,%22%E2%80%A2%22,%22%E2%80%A2%22,%22%E2%80%A2%22,%22%E2%80%A2%22,%22%E2%80%A2%22,%22%E2%80%A2%22,%22Z%22%5D,%5B%22H%22,%22H%22,%22H%22,%22H%22,%22H%22,%22H%22,%22H%22,%22H%22%5D,%5B%22Chance8%22%5D,%5B%22Z%22,%22%E2%80%A2%22,%22%E2%97%A6%22,%22%E2%80%A2%22,%22%E2%80%A2%22,%22%E2%97%A6%22,%22%E2%80%A2%22,%22%E2%80%A2%22%5D,%5B%22H%22,%22H%22,%22H%22,%22H%22,%22H%22,%22H%22,%22H%22,%22H%22%5D,%5B%22%E2%80%A2%22,%22%E2%80%A2%22,%22%E2%80%A2%22,%22%E2%80%A2%22,%22%E2%80%A2%22,%22%E2%80%A2%22,%22%E2%80%A2%22,%22Z%22%5D,%5B%22H%22,%22H%22,%22H%22,%22H%22,%22H%22,%22H%22,%22H%22,%22H%22%5D,%5B%22Chance8%22%5D,%5B%22Z%22,%22%E2%80%A2%22,%22%E2%97%A6%22,%22%E2%80%A2%22,%22%E2%80%A2%22,%22%E2%97%A6%22,%22%E2%80%A2%22,%22%E2%80%A2%22%5D,%5B%22H%22,%22H%22,%22H%22,%22H%22,%22H%22,%22H%22,%22H%22,%22H%22%5D,%5B%22%E2%80%A2%22,%22%E2%80%A2%22,%22%E2%80%A2%22,%22%E2%80%A2%22,%22%E2%80%A2%22,%22%E2%80%A2%22,%22%E2%80%A2%22,%22Z%22%5D,%5B%22H%22,%22H%22,%22H%22,%22H%22,%22H%22,%22H%22,%22H%22,%22H%22%5D,%5B%22Chance8%22%5D,%5B%22Z%22,%22%E2%80%A2%22,%22%E2%97%A6%22,%22%E2%80%A2%22,%22%E2%80%A2%22,%22%E2%97%A6%22,%22%E2%80%A2%22,%22%E2%80%A2%22%5D,%5B%22H%22,%22H%22,%22H%22,%22H%22,%22H%22,%22H%22,%22H%22,%22H%22%5D,%5B%22%E2%80%A2%22,%22%E2%80%A2%22,%22%E2%80%A2%22,%22%E2%80%A2%22,%22%E2%80%A2%22,%22%E2%80%A2%22,%22%E2%80%A2%22,%22Z%22%5D,%5B%22H%22,%22H%22,%22H%22,%22H%22,%22H%22,%22H%22,%22H%22,%22H%22%5D,%5B%22Chance8%22%5D,%5B%22Z%22,%22%E2%80%A2%22,%22%E2%97%A6%22,%22%E2%80%A2%22,%22%E2%80%A2%22,%22%E2%97%A6%22,%22%E2%80%A2%22,%22%E2%80%A2%22%5D,%5B%22H%22,%22H%22,%22H%22,%22H%22,%22H%22,%22H%22,%22H%22,%22H%22%5D,%5B%22%E2%80%A2%22,%22%E2%80%A2%22,%22%E2%80%A2%22,%22%E2%80%A2%22,%22%E2%80%A2%22,%22%E2%80%A2%22,%22%E2%80%A2%22,%22Z%22%5D,%5B%22H%22,%22H%22,%22H%22,%22H%22,%22H%22,%22H%22,%22H%22,%22H%22%5D,%5B%22Chance8%22%5D,%5B%22Z%22,%22%E2%80%A2%22,%22%E2%97%A6%22,%22%E2%80%A2%22,%22%E2%80%A2%22,%22%E2%97%A6%22,%22%E2%80%A2%22,%22%E2%80%A2%22%5D,%5B%22H%22,%22H%22,%22H%22,%22H%22,%22H%22,%22H%22,%22H%22,%22H%22%5D,%5B%22%E2%80%A2%22,%22%E2%80%A2%22,%22%E2%80%A2%22,%22%E2%80%A2%22,%22%E2%80%A2%22,%22%E2%80%A2%22,%22%E2%80%A2%22,%22Z%22%5D,%5B%22H%22,%22H%22,%22H%22,%22H%22,%22H%22,%22H%22,%22H%22,%22H%22%5D,%5B%22Chance8%22%5D,%5B%22Z%22,%22%E2%80%A2%22,%22%E2%97%A6%22,%22%E2%80%A2%22,%22%E2%80%A2%22,%22%E2%97%A6%22,%22%E2%80%A2%22,%22%E2%80%A2%22%5D,%5B%22H%22,%22H%22,%22H%22,%22H%22,%22H%22,%22H%22,%22H%22,%22H%22%5D,%5B%22%E2%80%A2%22,%22%E2%80%A2%22,%22%E2%80%A2%22,%22%E2%80%A2%22,%22%E2%80%A2%22,%22%E2%80%A2%22,%22%E2%80%A2%22,%22Z%22%5D,%5B%22H%22,%22H%22,%22H%22,%22H%22,%22H%22,%22H%22,%22H%22,%22H%22%5D,%5B%22Z%22,%22%E2%80%A2%22,%22%E2%97%A6%22,%22%E2%80%A2%22,%22%E2%80%A2%22,%22%E2%97%A6%22,%22%E2%80%A2%22,%22%E2%80%A2%22%5D,%5B%22H%22,%22H%22,%22H%22,%22H%22,%22H%22,%22H%22,%22H%22,%22H%22%5D,%5B%22%E2%80%A2%22,%22%E2%80%A2%22,%22%E2%80%A2%22,%22%E2%80%A2%22,%22%E2%80%A2%22,%22%E2%80%A2%22,%22%E2%80%A2%22,%22Z%22%5D,%5B%22H%22,%22H%22,%22H%22,%22H%22,%22H%22,%22H%22,%22H%22,%22H%22%5D,%5B%22Chance8%22%5D,%5B%22Z%22,%22%E2%80%A2%22,%22%E2%97%A6%22,%22%E2%80%A2%22,%22%E2%80%A2%22,%22%E2%97%A6%22,%22%E2%80%A2%22,%22%E2%80%A2%22%5D,%5B%22H%22,%22H%22,%22H%22,%22H%22,%22H%22,%22H%22,%22H%22,%22H%22%5D,%5B%22%E2%80%A2%22,%22%E2%80%A2%22,%22%E2%80%A2%22,%22%E2%80%A2%22,%22%E2%80%A2%22,%22%E2%80%A2%22,%22%E2%80%A2%22,%22Z%22%5D,%5B%22H%22,%22H%22,%22H%22,%22H%22,%22H%22,%22H%22,%22H%22,%22H%22%5D,%5B%22Chance8%22%5D,%5B%22Z%22,%22%E2%80%A2%22,%22%E2%97%A6%22,%22%E2%80%A2%22,%22%E2%80%A2%22,%22%E2%97%A6%22,%22%E2%80%A2%22,%22%E2%80%A2%22%5D,%5B%22H%22,%22H%22,%22H%22,%22H%22,%22H%22,%22H%22,%22H%22,%22H%22%5D,%5B%22%E2%80%A2%22,%22%E2%80%A2%22,%22%E2%80%A2%22,%22%E2%80%A2%22,%22%E2%80%A2%22,%22%E2%80%A2%22,%22%E2%80%A2%22,%22Z%22%5D,%5B%22H%22,%22H%22,%22H%22,%22H%22,%22H%22,%22H%22,%22H%22,%22H%22%5D,%5B%22Chance8%22%5D%5D%7D">8 qubit</a>
variants.
(I tried making the 16-qubit variant... Quirk started seriously breaking about 2/3rds of the way through, around the 8K gate mark.)</p>

<p><strong>Quantum Teleportation</strong></p>

<p>Quantum teleportation uses classical communication, and some pre-shared entanglement, to move a qubit.
With Quirk&#39;s inline Bloch-sphere displays, we can see that the qubit being put in at the top <a href="/quirk#circuit=%7B%22cols%22:%5B%5B1,%22H%22%5D,%5B1,%22%E2%80%A2%22,1,1,%22X%22%5D,%5B%22%E2%80%A6%22,%22%E2%80%A6%22,1,1,%22%E2%80%A6%22%5D,%5B%22Y%5Et%22%5D,%5B%22e%5E-iZt%22%5D,%5B%22Bloch%22,%22Bloch%22,1,1,%22Bloch%22%5D,%5B%22%E2%80%A6%22,%22%E2%80%A6%22,1,1,%22%E2%80%A6%22%5D,%5B%22%E2%80%A2%22,%22X%22%5D,%5B%22H%22%5D,%5B%22Measure%22,%22Measure%22,1,1,%22Bloch%22%5D,%5B1,%22%E2%80%A2%22,1,1,%22X%22%5D,%5B%22%E2%80%A2%22,1,1,1,%22Z%22%5D,%5B%22Bloch%22,%22Bloch%22,1,1,%22Bloch%22%5D%5D%7D">is in fact coming out at the bottom</a>:</p>

<p><a href="/quirk#circuit=%7B&quot;cols&quot;:[[1,&quot;H&quot;],[1,&quot;•&quot;,1,1,&quot;X&quot;],[&quot;…&quot;,&quot;…&quot;,1,1,&quot;…&quot;],[&quot;Y^t&quot;],[&quot;e^-iZt&quot;],[&quot;Bloch&quot;,&quot;Bloch&quot;,1,1,&quot;Bloch&quot;],[&quot;…&quot;,&quot;…&quot;,1,1,&quot;…&quot;],[&quot;•&quot;,&quot;X&quot;],[&quot;H&quot;],[&quot;Measure&quot;,&quot;Measure&quot;,1,1,&quot;Bloch&quot;],[1,&quot;•&quot;,1,1,&quot;X&quot;],[&quot;•&quot;,1,1,1,&quot;Z&quot;],[&quot;Bloch&quot;,&quot;Bloch&quot;,1,1,&quot;Bloch&quot;]]%7D">
  <img src="/assets/2016-05-22-quirk/circuit-teleportation.gif" style="max-width: 100%; max-height: 250px; border: 1px solid black; "/>
</a></p>

<p>See also: <a href="/quirk#circuit=%7B%22cols%22:%5B%5B%22Measure%22,%22Measure%22,%22H%22%5D,%5B1,1,%22%E2%80%A2%22,1,1,%22X%22%5D,%5B%22%E2%80%A6%22,%22%E2%80%A6%22,%22%E2%80%A6%22,1,1,%22%E2%80%A6%22%5D,%5B%22Counting2%22%5D,%5B%22Chance%22,%22Chance%22%5D,%5B%22%E2%80%A6%22,%22%E2%80%A6%22,%22%E2%80%A6%22,1,1,%22%E2%80%A6%22%5D,%5B1,%22%E2%80%A2%22,%22X%22%5D,%5B%22%E2%80%A2%22,1,%22Z%22%5D,%5B1,1,%22Swap%22,1,%22Swap%22%5D,%5B1,1,1,1,%22%E2%80%A2%22,%22X%22%5D,%5B1,1,1,1,%22H%22%5D,%5B1,1,1,1,%22Measure%22,%22Measure%22%5D,%5B1,1,1,1,%22Chance%22,%22Chance%22%5D%5D%7D">superdense coding circuit</a>, which uses the same basic trick in reverse to pack 2 classical bits into a single qubit.</p>

<p><strong>Delayed Erasure</strong></p>

<p>A qubit version of the infamous optical experiment:</p>

<p><a href="/quirk#circuit=%7B&quot;cols&quot;:[[&quot;H&quot;],[&quot;•&quot;,&quot;X&quot;],[&quot;…&quot;],[&quot;e^iXt&quot;],[&quot;Measure&quot;],[&quot;Chance&quot;],[&quot;…&quot;],[&quot;Chance&quot;,&quot;•&quot;],[&quot;Chance&quot;,&quot;◦&quot;],[&quot;…&quot;],[1,&quot;H&quot;],[&quot;Chance&quot;,&quot;•&quot;],[&quot;Chance&quot;,&quot;◦&quot;],[1,&quot;Measure&quot;]]%7D">
  <img src="/assets/2016-05-22-quirk/circuit-delayed-erasure.gif" style="max-width: 100%; border: 1px solid black; "/>
</a></p>

<p><strong>Pretty Colors</strong></p>

<p>Sometimes it&#39;s fun to just dick around and make things that look visually interesting:</p>

<p><a href="/quirk#circuit=%7B&quot;cols&quot;:[[&quot;X^t&quot;,&quot;X^t&quot;,&quot;X^t&quot;,&quot;X^t&quot;,&quot;X^t&quot;,&quot;X^t&quot;,&quot;X^t&quot;],[&quot;Chance7&quot;],[&quot;Bloch&quot;,&quot;Bloch&quot;,&quot;Bloch&quot;,&quot;Bloch&quot;,&quot;Bloch&quot;,&quot;Bloch&quot;,&quot;Bloch&quot;],[&quot;QFT7&quot;],[&quot;Chance7&quot;],[&quot;Bloch&quot;,&quot;Bloch&quot;,&quot;Bloch&quot;,&quot;Bloch&quot;,&quot;Bloch&quot;,&quot;Bloch&quot;,&quot;Bloch&quot;],[&quot;Amps7&quot;],[],[],[],[&quot;Counting7&quot;],[&quot;Chance7&quot;],[&quot;Bloch&quot;,&quot;Bloch&quot;,&quot;Bloch&quot;,&quot;Bloch&quot;,&quot;Bloch&quot;,&quot;Bloch&quot;,&quot;Bloch&quot;],[&quot;sub7&quot;],[&quot;Chance7&quot;],[&quot;Bloch&quot;,&quot;Bloch&quot;,&quot;Bloch&quot;,&quot;Bloch&quot;,&quot;Bloch&quot;,&quot;Bloch&quot;,&quot;Bloch&quot;]]%7D">
  <img src="/assets/2016-05-22-quirk/circuit-noise.gif" style="border: 1px solid black; max-width: 100%; max-height: 250px;"/>
</a></p>

<p>See also: <a href="/quirk#circuit=%7B%22cols%22:%5B%5B%22X%5Et%22,1,1,1,1,1,1,1,1,%22X%5Et%22%5D,%5B%22QFT16%22%5D%5D%7D">16-qubit circuit making Moiré patterns</a>.</p>

<p><strong>Other Circuits</strong></p>

<p>A <a href="/quirk#circuit=%7B%22cols%22:%5B%5B%22H%22,1,1,1,%22H%22%5D,%5B%22%E2%80%A2%22,%22X%22%5D,%5B1,1,1,1,%22%E2%80%A2%22,%22X%22%5D,%5B1,%22Swap%22,1,1,1,%22Swap%22%5D,%5B%22%E2%80%A2%22,%22X%22%5D,%5B1,1,1,1,%22%E2%80%A2%22,%22X%22%5D,%5B%22X%5E%C2%BD%22,%22%E2%97%A6%22%5D,%5B1,1,1,1,%22X%5E%C2%BD%22,%22%E2%97%A6%22%5D,%5B1,%22X%5E%C2%BD%22,1,1,1,%22X%5E%C2%BD%22%5D,%5B%22Measure%22,%22Measure%22,1,1,%22Measure%22,%22Measure%22%5D,%5B%22%E2%80%A2%22,1,1,1,%22Chance%22%5D,%5B%22%E2%97%A6%22,1,1,1,%22Chance%22%5D,%5B1,%22%E2%80%A2%22,1,1,1,%22Chance%22%5D,%5B1,%22%E2%97%A6%22,1,1,1,%22Chance%22%5D%5D%7D">symmetry-breaking circuit</a>, where both sides do the same thing yet end up with opposite values.</p>

<p>A <a href="/quirk#circuit=%7B%22cols%22:%5B%5B%22H%22%5D,%5B%22%E2%80%A2%22,1,1,1,1,%22X%22%5D,%5B%22%E2%80%A6%22,%22%E2%80%A6%22,%22%E2%80%A6%22,1,1,%22%E2%80%A6%22%5D,%5B1,%22X%5Et%22,%22e%5E-iYt%22%5D,%5B1,%22QFT2%22%5D,%5B1,1,%22Swap%22,1,%22Swap%22%5D,%5B%22%E2%80%A6%22,%22%E2%80%A6%22,%22%E2%80%A6%22,1,1,%22%E2%80%A6%22%5D,%5B%22X%22,%22%E2%80%A2%22%5D,%5B1,1,1,1,%22%E2%80%A2%22,1,%22X%22%5D,%5B1,1,1,1,1,%22%E2%80%A2%22,%22X%22%5D,%5B1,1,1,1,1,%22H%22%5D,%5B%22Measure%22,1,1,1,1,%22Measure%22,%22Measure%22%5D,%5B%22%7C0%E2%9F%A9%E2%9F%A80%7C%22,1,1,1,1,%22%7C0%E2%9F%A9%E2%9F%A80%7C%22%5D,%5B1,%22Bloch%22,1,1,%22Bloch%22,1,%22Chance%22%5D%5D%7D">non-local measurement circuit</a> that doesn&#39;t require coordination until later (see also: <a href="http://arxiv.org/abs/1409.1575">the paper</a>).</p>

<p>The <a href="/quirk#circuit=%7B%22cols%22:%5B%5B%22H%22,%22H%22,%22H%22%5D,%5B1,1,1,%22%E2%80%A6%22%5D,%5B1,%22%E2%80%A2%22,1,%22X%22%5D,%5B%22%E2%80%A2%22,1,1,%22X%22%5D,%5B1,1,1,%22%E2%80%A6%22%5D,%5B%22X%5E%C2%BD%22,%22X%5E%C2%BD%22,%22X%5E%C2%BD%22,%22Chance%22%5D,%5B%22%7C0%E2%9F%A9%E2%9F%A80%7C%22,%22%7C0%E2%9F%A9%E2%9F%A80%7C%22,%22%7C0%E2%9F%A9%E2%9F%A80%7C%22%5D,%5B1,1,1,%22Chance%22%5D%5D%7D">circuit from the &#39;quantum pigeonhole paper&#39;</a> (see also: <a href="/quantum/2016/01/30/quantum-pigeonhole.html">my take on that paper</a>).</p>

<h1>Work in Progress</h1>

<p>Quirk is still under development.
There are still bugs and hitches and missing features.
Notable ones include:</p>

<ul>
<li>The touch interaction in firefox mobile is awful. Drags keep turning into scrolls.</li>
<li>The circuit URLs are kind of ridiculously long, and hard to share because of how many special characters they use.</li>
<li>There&#39;s no way to add custom gates (besides manually editing the circuit URL to contain an entry like <code>{&quot;id&quot;:&quot;cool_gate&quot;,&quot;matrix&quot;:&quot;{ {1,i}, {i,1} }&quot;}</code>).</li>
<li>The toolbox has too much stuff in it, but also not enough stuff.</li>
<li>You can&#39;t put measured qubits back into superposition. (Though post-selecting does count as &#39;unmeasuring&#39; them, and you can use CNOTs instead of measurement gates.)</li>
</ul>

<p>You should try Quirk out anyways.</p>

<h1>Summary</h1>

<p><a href="/quirk">Quirk</a> is a browser-based drag-and-drop quantum circuit simulator that reacts, simulates, and animates in real-time.</p>

</div>

<!-- IntenseDebate comments -->

  <script>
  var idcomments_acct = '7d0006bd6a016f9a2892cc2ecc64de01';
  var idcomments_post_id = '/2016/05/22/quirk.html';
  var idcomments_post_url = 'http://algorithmicassertions.com/2016/05/22/quirk.html';
  </script>
  <span id="IDCommentsPostTitle" style="display:none"></span>
  <script type='text/javascript' src='http://www.intensedebate.com/js/genericCommentWrapperV2.js'></script>
  <noscript>
    <hr>
    <font color=red>
      Comments script blocked. Comments won't work.
    </font>
    <br/>
    Allow scripts from <strong>algorithmicassertions.com</strong> and <strong>intensedebate.com</strong> to fix.
  </noscript>




    </div>
    <div class="footer-container">
      <div class="site">
        <div class="footer">
          <div class="contact">
            by: Craig Gidney<br />
            more: <a href="/">All Posts</a>, <a href="/feed.xml">Posts Feed<img src="/assets/feed-icon.png" width="16px" alt="Posts Feed" title="Posts Feed" /></a><br/>
            meta: <a href="/about.html">About the Author/Blog</a><br/>
          </div>
          <div class="license">
            <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">
              <img alt="Creative Commons License" style="border-width:0" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFgAAAAfCAYAAABjyArgAAAFOklEQVRo3u1aTU8bRxj2OVIs7lw4hhttlR5TpPQHkB+QiH9Q1FskqqCIVIpUCVmuoubQUKm3JrDG5sNfeA1rY3vX9noh5MpP4Ce81fOu32V2WfAHzhoTRhqx3pmdHZ595nk/ZmJEFI/FYnRfR1+J8Kf7Yye/TXvFXcqVslQ8KFDJKNFBtUxG3aAjs0r1Zo0arQZZbZOatkXNTtOttkWWbZLZanAf9K3UDX5WN0o8Vq6U47Hxjkw2TVt7KUrtaLS5vUEbmU9cP6U/0set/+5MVYC+ADev52j/sEjlik5G7ZDBarTqDGDbaVHnxCbnc4eOT4/p5Itbce18drgNfSzb4mfwLMYoV3UeE2MHQdZ2Nj2QAfAdBTnmB7daZgbWrBqzFaAB1NU3q/T056f0MP7w0lLAPbSt/r7KfdvHbf4oYHSlUWE27x/u+0BOZ7cotau5IGc2Rsbil8svaXZ29tIccQ9tYwEYsqCCC2CaHYtZmUgmaHp6um/dQd/Enwl+FhICNlc9kIueXGznMpTec0EeBYuTfyXp0ewjbx7z8/O0tLTEFddyH33QN1KAoZOQhQtwm8zEhWcLPvCmpqZocXGRVlZWSNd1rrjGPbSpffFspWZQy3FBBpMhF64mZ2m3sOOXihuweP3fDxSPx933LizQ2dkZBQvuoQ190DcKkD2AYdCgl5AFMDcILsADkOfn53RdWV9f9wENtgBkfDB8OLwDhq9QzlN2f8+VihAWD/qPCHPxodWiWHPfHGVukQGM5QujBM3F0lbBnZubC2XEVQUfAc+oTMaY0GS840IqFBbvpkjb3hxKJqCrwtwvp6c9AUYRJn9tTfYANlga6mzQoLkquL1Y2w/I0GQYPpaKukF6xWUxa3He1WKRiUEBFoM2CAnQVwxfJAAze22TpUEMGpa6bds0bAHIIhcYE2PDhRMWFw9cFqsexTAyIQYtWCAX8oGD0oEihi8SgKGPLafFrphMCpp70yJ6hwoXDitEtLjUddtUmRgWYHgKwRISVfkKnokMYERo9onNvqywV5UGeAvQLXx1VBX8YNva2prvHxEWY2xoMSK+SzKRy7jehKLDdwpgGDcsYQki1CUFAMP8XYCpaVpom/q8LFWMjYgPUlTtumyFcoG9CeiwuGt3UiKQTzg+dbwJqSwUYzUzM8PGAYDjGstf2sTTAODSFiYTCKubPh0u+Ny1YQC+zshdxd7IjRx8X+QVZEIAMTjJME3uR6/VFYB3wCc+Mo9GBrDqpvULcORu2iQDPGigIdobaaDRr0TA8MF1wzVAVSUi2BaVRExEqHydkbvOkPVj5IQxrpHr8LtGaeRUkNVkDz465oH3q0HPWJI94qZJiAzXKrjMr3LTALLcD7ahgNGqm9ZQ3LS8fnM3bSLSlRJoqGFy0J8dZaBx2A00kLqUQOOmCZ9bnXCvNsJD5UHi+3GFyhMBsJrs+fDP36NP9iQTPDaSPXiXpCzVxPuwyZ6JABh1+dWyl658/uK5D+RBkj5gfWi6sm3S6zevv8Xd5YsfS7/+wm5UZ4iEO9rQR024P/7xMUsD/Gx8wG90+95/47dXyxwMAGSVycNsGQHcVqdJ796/i+ocQmiQEewzVoA9kG130xOaPPCmZ1I2Pa3IwA2CF3Y9BnDDARa5ULftAVqvbXvsXPC2Pc5HtM3IZaFXuvJWSIRav//hO9LSGrtw8JNt7+CJoxw8cfieevAkldHoyU9PxnFU6TZJQ2+ApQKst3+8pWK5qByd6lYcnWqb3IY+4wB2Yhl8X0dQiejBPRBf73Tl/8YjNDN/aKmsAAAAAElFTkSuQmCC" />
            </a><br />
            This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>.
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
